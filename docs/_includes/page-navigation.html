<!-- Page Navigation (Previous/Next) -->
<div class="page-navigation">
    <div class="nav-wrapper">
        {% assign chapters = "home,chapter0,chapter1,chapter2,chapter3,chapter4,chapter5,chapter6" | split: "," %}
        {% assign current_index = -1 %}
        
        {% if page.url == "/" %}
            {% assign current_index = 0 %}
        {% else %}
            {% for chapter in chapters %}
                {% if chapter != "home" and page.url contains chapter %}
                    {% assign current_index = forloop.index0 %}
                    {% break %}
                {% endif %}
            {% endfor %}
        {% endif %}
        
        {% if current_index >= 0 %}
            {% assign prev_index = current_index | minus: 1 %}
            {% assign next_index = current_index | plus: 1 %}
            
            <div class="nav-prev">
                {% if prev_index >= 0 %}
                    {% assign prev_chapter = chapters[prev_index] %}
                    {% if prev_chapter == "home" %}
                        <a href="{{ site.baseurl }}/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">ホーム</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter0" %}
                        <a href="{{ site.baseurl }}/chapter0/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第0章 WSL2環境構築と基礎</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter1" %}
                        <a href="{{ site.baseurl }}/chapter1/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第1章 ファイル操作の基本</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter2" %}
                        <a href="{{ site.baseurl }}/chapter2/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第2章 テキスト処理の基本</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter3" %}
                        <a href="{{ site.baseurl }}/chapter3/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第3章 プロセスとサービス管理</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter4" %}
                        <a href="{{ site.baseurl }}/chapter4/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第4章 ネットワークの基礎</span>
                            </span>
                        </a>
                    {% elsif prev_chapter == "chapter5" %}
                        <a href="{{ site.baseurl }}/chapter5/" class="nav-link-prev">
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span class="nav-content">
                                <span class="nav-label">前へ</span>
                                <span class="nav-title">第5章 シェルスクリプト入門</span>
                            </span>
                        </a>
                    {% endif %}
                {% else %}
                    <span class="nav-link-disabled"></span>
                {% endif %}
            </div>
            
            <div class="nav-next">
                {% if next_index < chapters.size %}
                    {% assign next_chapter = chapters[next_index] %}
                    {% if next_chapter == "chapter0" %}
                        <a href="{{ site.baseurl }}/chapter0/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第0章 WSL2環境構築と基礎</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter1" %}
                        <a href="{{ site.baseurl }}/chapter1/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第1章 ファイル操作の基本</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter2" %}
                        <a href="{{ site.baseurl }}/chapter2/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第2章 テキスト処理の基本</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter3" %}
                        <a href="{{ site.baseurl }}/chapter3/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第3章 プロセスとサービス管理</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter4" %}
                        <a href="{{ site.baseurl }}/chapter4/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第4章 ネットワークの基礎</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter5" %}
                        <a href="{{ site.baseurl }}/chapter5/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第5章 シェルスクリプト入門</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% elsif next_chapter == "chapter6" %}
                        <a href="{{ site.baseurl }}/chapter6/" class="nav-link-next">
                            <span class="nav-content">
                                <span class="nav-label">次へ</span>
                                <span class="nav-title">第6章 実践プロジェクト</span>
                            </span>
                            <svg class="nav-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </a>
                    {% endif %}
                {% else %}
                    <span class="nav-link-disabled"></span>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>